<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Input (current.Current.Input)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">current</a> &#x00BB; <a href="../index.html">Current</a> &#x00BB; Input</nav><h1>Module <code>Current.Input</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></dt><dd><p>An input that produces an <code>'a term</code>.</p></dd></dl><dl><dt class="spec type" id="type-metadata"><a href="#type-metadata" class="anchor"></a><code><span class="keyword">type</span> metadata</code></dt><dd><p>Information about a value of the input at some point.</p></dd></dl><dl><dt class="spec value" id="val-const"><a href="#val-const" class="anchor"></a><code><span class="keyword">val</span> const : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>const x</code> is an input that always evaluates to <code>x</code> and never needs to be updated.</p></dd></dl><dl><dt class="spec value" id="val-metadata"><a href="#val-metadata" class="anchor"></a><code><span class="keyword">val</span> metadata : <span>?&#8288;job_id:<a href="../index.html#type-job_id">job_id</a></span> <span>&#45;&gt;</span> <span>?&#8288;changed:<span>unit Lwt.t</span></span> <span>&#45;&gt;</span> <a href="../class-type-actions/index.html">actions</a> <span>&#45;&gt;</span> <a href="index.html#type-metadata">metadata</a></code></dt><dd><p><code>metadata actions</code> is used to provide metadata about a value.</p><dl><dt>parameter job_id</dt><dd><p>An ID that can be used to refer to this job later (to request a rebuild, etc).</p></dd></dl><dl><dt>parameter changed</dt><dd><p>A Lwt promise that resolves when the input has changed (and so terms using it should be recalculated).</p></dd></dl><dl><dt>parameter actions</dt><dd><p>Ways to interact with this input.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-of_fn"><a href="#val-of_fn" class="anchor"></a><code><span class="keyword">val</span> of_fn : <span>(<a href="../Step/index.html#type-t">Step.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../Current_term/Output/index.html#type-t">Current_term.Output.t</a></span> * <a href="index.html#type-metadata">metadata</a>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>of_fn f</code> is an input that calls <code>f config</code> when it is evaluated. When <code>f</code> is called, the caller gets a ref-count on the watches and will call <code>release</code> exactly once when each watch is no longer needed.</p><p>Note: the engine calls <code>f</code> in an evaluation before calling <code>release</code> on the previous watches, so if the ref-count drops to zero then you can cancel the job.</p></dd></dl></div></body></html>